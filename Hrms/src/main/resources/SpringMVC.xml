<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:mvc="http://www.springframework.org/schema/mvc"
  xmlns:context="http://www.springframework.org/schema/context"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans.xsd
         http://www.springframework.org/schema/mvc
        http://www.springframework.org/schema/mvc/spring-mvc.xsd
         http://www.springframework.org/schema/context
         http://www.springframework.org/schema/context/spring-context.xsd">

  <!-- 配置创建 spring 容器要扫描的包 -->
  <context:component-scan base-package="club.banyuan"></context:component-scan>

  <!--view -->
  <!-- 获取配置文件 -->
  <bean id="config"
    class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
    <property name="locations">
      <list>
        <value>classpath*:mysql.properties</value>
      </list>
    </property>
  </bean>
  <!-- 获取数据源 -->
  <bean id="ds" class="org.apache.commons.dbcp2.BasicDataSource">
    <property name="driverClassName" value="${driverClassName}"></property>
    <property name="url" value="${url}"></property>
    <property name="username" value="${username}"></property>
    <property name="password" value="${password}"></property>
  </bean>

  <!-- 配置视图解析器 -->
<!--  视图解析器不能解析html-->
<!--  <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">-->
<!--    <property name="prefix" value="/static/"></property>-->
<!--    <property name="suffix" value=".html"></property>-->
<!--  </bean>-->

<!--  <bean id="freemarkerConfig"-->
<!--    class="org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer">-->
<!--    <property name="templateLoaderPath" value="/static/" />-->
<!--    <property name="freemarkerSettings">-->
<!--      <props>-->
<!--        <prop key="template_update_delay">0</prop>-->
<!--        <prop key="default_encoding">UTF-8</prop>-->
<!--        <prop key="number_format">0.##########</prop>-->
<!--        <prop key="datetime_format">yyyy-MM-dd HH:mm:ss</prop>-->
<!--        <prop key="classic_compatible">true</prop>-->
<!--        <prop key="template_exception_handler">ignore</prop>-->
<!--      </props>-->
<!--    </property>-->
<!--  </bean>-->

<!--  <bean id="freemarkerConfiguration"-->
<!--    class="org.springframework.beans.factory.config.PropertiesFactoryBean">-->
<!--    &lt;!&ndash;注释掉的下方代码是指引freemarker的基本信息的配置位置，因为我已经将配置信息移到了applicationContext文件下，所以这里就没必要存在了，不注释也不会有问题的 &ndash;&gt;-->
<!--    &lt;!&ndash;<property name="location" value="classpath:/WEB-INF/config/freemarker.properties" />&ndash;&gt;-->
<!--  </bean>-->


<!--  <bean id="viewResolver" class="org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver">-->
<!--    <property name="exposeRequestAttributes" value="true" />-->
<!--    <property name="exposeSessionAttributes" value="true" />-->
<!--    <property name="viewClass"-->
<!--      value="org.springframework.web.servlet.view.freemarker.FreeMarkerView"/>-->
<!--    <property name="cache" value="true"/>-->
<!--    &lt;!&ndash;这里需要注意一下，我注释了下面这样一行代码，这行代码的意思就是指引freemarker需要解析的文件的位置。注释掉原因是因为-->
<!--     applicationContext.xml里有这样一行代码：<property name="templateLoaderPath" value="/WEB-INF/views/" /> 已经指定了视图位置。如果我们这里依然保留下方代码，页面回报406的找不到的错误 &ndash;&gt;-->
<!--&lt;!&ndash;    <property name="prefix" value="/static/"/>&ndash;&gt;-->
<!--    <property name="suffix" value=".html"/>-->
<!--    <property name="contentType" value="text/html; charset=UTF-8"/>-->
<!--  </bean>-->

  <!-- 配置静态资源 -->
<!--  <mvc:default-servlet-handler/>-->

  <!-- 对模型视图添加前后缀  此处不用jsp 改用html -->
  <!-- html视图解析器 必须先配置freemarkerConfig,注意html是没有prefix前缀属性的 -->
  <!--    <bean id="freemarkerConfig"-->
  <!--      class="org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer">-->
  <!--        <property name="templateLoaderPath">-->
  <!--            <value>/resources/static/</value>-->
  <!--        </property>-->
  <!--    </bean>-->
  <!--    <bean id="htmlViewResolver"-->
  <!--      class="org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver">-->
  <!--        <property name="contentType" value="text/html;charset=UTF-8"></property>-->
  <!--        <property name="suffix" value=".html"></property>-->
  <!--        <property name="order" value="0"></property>-->

  <!--    </bean>-->

  <!--    <mvc:default-servlet-handler></mvc:default-servlet-handler>-->
  <!--
    静态资源，不需要经过controller
    location : 静态资源的在服务器上的物理路径
    mapping ：浏览器访问静态资源的请求路径
-->
  <!--    <mvc:resources location="/static/css/" mapping="/**"/>-->
  <!--    <mvc:resources location="/WEB-INF/static/images/**" mapping="/**"/>-->
  <!--    <mvc:resources location="/WEB-INF/static/jquery-easyui-1.3.3/**" mapping="/**"/>-->
  <!--    <mvc:resources location="/WEB-INF/static/*" mapping="/**"/>-->
  <!--    <mvc:resources mapping="/static/**" location="/static/*" />-->
  <mvc:resources location="/static/" mapping="/*"/>
<!--  <mvc:resources location="/static/css/" mapping="/css/**"/>-->
<!--  <mvc:resources location="/static/jquery-easyui-1.3.3/" mapping="/jquery-easyui-1.3.3/**"/>-->
<!--  <mvc:resources location="/static/images/" mapping="/images/**"/>-->
<!--  <mvc:resources location="/static/js/" mapping="/js/**"/>-->
  <!--    <mvc:resources location="js/" mapping="js/**"/>-->
  <mvc:annotation-driven/>
  <!--    &lt;!&ndash; 配置文件上传解析器 &ndash;&gt;-->
  <!--    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">-->
  <!--        &lt;!&ndash; 设置上传文件的最大尺寸为 5MB &ndash;&gt;-->
  <!--        <property name="maxUploadSize">-->
  <!--            <value>5242880</value>-->
  <!--        </property>-->
  <!--    </bean>-->

  <!--    <mvc:interceptors>-->
  <!--        <mvc:interceptor>-->
  <!--            <mvc:mapping path="/**"/>-->
  <!--            <bean class="club.banyuan.interceptor.MyInterceptor1"/>-->
  <!--        </mvc:interceptor>-->
  <!--        <mvc:interceptor>-->
  <!--            <mvc:mapping path="/**"/>-->
  <!--            <bean class="club.banyuan.interceptor.MyInterceptor2"/>-->
  <!--        </mvc:interceptor>-->
  <!--    </mvc:interceptors>-->
</beans>
